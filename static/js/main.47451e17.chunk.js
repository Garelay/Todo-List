(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{19:function(t,e,c){},22:function(t,e,c){},23:function(t,e,c){"use strict";c.r(e);var n=c(2),o=c.n(n),s=c(10),a=c.n(s),r=(c(19),c(4)),i=c(9),u=c.n(i),d=c(14),l=c(11),j=c(25),b=c(12),f=c(1);var O=function(t){var e=t.todos,c=t.setTodos,o=t.setFilterStatus,s=(t.filteredTodos,Object(n.useState)("")),a=Object(r.a)(s,2),i=a[0],O=a[1],m=Object(n.useRef)(null);Object(n.useEffect)((function(){m.current.focus()}),[]);var p=function(){var t=Object(l.a)(u.a.mark((function t(n){var o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!/^\s*$/.test(i)){t.next=3;break}return t.abrupt("return");case 3:return o=[].concat(Object(d.a)(e),[{id:Object(j.a)(),task:i,copleted:!1,edit:!1}]),t.next=6,c(o);case 6:O("");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"form-container",children:[Object(f.jsxs)("form",{className:"form",onSubmit:p,children:[Object(f.jsx)("input",{type:"text",className:"input",placeholder:"Add a task",value:i,onChange:function(t){O(t.target.value)},ref:m}),Object(f.jsx)("button",{className:"add",onClick:function(){m.current.focus()},children:Object(f.jsx)(b.a,{})})]}),Object(f.jsxs)("select",{className:"filter-select",onChange:function(t){o(t.target.value)},children:[Object(f.jsx)("option",{value:"all",children:"All"}),Object(f.jsx)("option",{value:"completed",children:"Completed"}),Object(f.jsx)("option",{value:"uncompleted",children:"Uncompleted"})]})]})},m=c(3),p=c(13);var x=function(t){var e=t.todo,c=t.todos,o=t.setTodos,s=Object(n.useState)(e.task),a=Object(r.a)(s,2),i=a[0],u=a[1],d=Object(n.useRef)(null),l=Object(n.useRef)(null);return Object(n.useEffect)((function(){d.current.focus()})),Object(n.useEffect)((function(){var t=function(t){l.current.contains(t.target)||o(c.map((function(t){return t.id===e.id?Object(m.a)(Object(m.a)({},t),{},{edit:!t.edit}):t})))};return document.addEventListener("click",t),function(){document.removeEventListener("click",t)}})),Object(f.jsx)("li",{className:"todo-item",ref:l,children:Object(f.jsxs)("form",{className:"update-form",onSubmit:function(t){t.preventDefault(),o(c.map((function(t){return t.id===e.id?Object(m.a)(Object(m.a)({},t),{},{task:i,edit:!t.edit}):t})))},children:[Object(f.jsx)("input",{type:"text",className:"update-input",ref:d,value:i,onChange:function(t){u(t.target.value)}}),Object(f.jsx)("button",{className:"update-btn",children:Object(f.jsx)(p.a,{})})]})})},h=c(7);var v=function(t){var e=t.todo,c=t.todos,n=t.setTodos;return e.edit?Object(f.jsx)(x,{todo:e,todos:c,setTodos:n}):Object(f.jsxs)("li",{className:"todo-item ".concat(e.completed?"completed":""),children:[Object(f.jsx)("span",{className:"todo-item-text",children:e.task}),Object(f.jsx)("button",{className:"complete-btn",onClick:function(){n(c.map((function(t){return t.id===e.id?Object(m.a)(Object(m.a)({},t),{},{completed:!t.completed}):t})))},title:"Mark as completed",children:Object(f.jsx)(h.c,{})}),Object(f.jsx)("button",{className:"edit-btn",onClick:function(){n(c.map((function(t){return t.id===e.id?Object(m.a)(Object(m.a)({},t),{},{edit:!t.edit}):t})))},title:"Edit the task",children:Object(f.jsx)(h.b,{})}),Object(f.jsx)("button",{className:"delete-btn",onClick:function(){n(c.filter((function(t){return t.id!==e.id})))},title:"Delete the task",children:Object(f.jsx)(h.a,{})})]})},k=function(t){var e=t.todos,c=t.setTodos,n=t.filteredTodos;return Object(f.jsx)("ul",{children:n.map((function(t){return Object(f.jsx)(v,{todo:t,todos:e,setTodos:c},t.id)}))})};c(22);var N=function(){var t=Object(n.useState)([{id:1,task:"Test this app",completed:!1,edit:!1}]),e=Object(r.a)(t,2),c=e[0],o=e[1],s=Object(n.useState)(c),a=Object(r.a)(s,2),i=a[0],u=a[1],d=Object(n.useState)("all"),l=Object(r.a)(d,2),j=l[0],b=l[1];return Object(n.useEffect)((function(){null===localStorage.getItem("todos")?localStorage.setItem("todos",JSON.stringify(c)):o(JSON.parse(localStorage.getItem("todos")))}),[]),Object(n.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(c))}),[c]),Object(n.useEffect)((function(){!function(){switch(j){case"completed":u(c.filter((function(t){return t.completed})));break;case"uncompleted":u(c.filter((function(t){return!t.completed})));break;default:u(c)}}()}),[c,j]),Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("header",{children:"My todo list"}),Object(f.jsx)(O,{todos:c,setTodos:o,filteredTodos:i,setFilterStatus:b}),Object(f.jsx)(k,{todos:c,setTodos:o,filteredTodos:i})]})};a.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(N,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.47451e17.chunk.js.map